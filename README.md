# API HO√ÄN CH·ªàNH CHO STUDENT - D·ª∞A TR√äN QUY·ªÄN V√Ä CLASS DIAGRAM

## üîê AUTHENTICATION APIs (Student c√≥ quy·ªÅn s·ª≠ d·ª•ng)

### 1. ƒêƒÉng nh·∫≠p Student
**API:** `POST /api/auth/student/login/`
**Payload:**
```json
{
  "username": "string",
  "password": "string"
}
```
**Response:**
```json
{
  "message": "Login successful",
  "session_key": "string",
  "user": {
    "userId": "string",
    "username": "string",
    "fullName": "string",
    "userType": "student"
  }
}
```

### 2. ƒêƒÉng xu·∫•t
**API:** `POST /api/auth/logout/`
**Payload:** Kh√¥ng c·∫ßn
**Response:**
```json
{
  "message": "Logout successful"
}
```

### 3. ƒê·ªïi m·∫≠t kh·∫©u
**API:** `POST /api/auth/change-password/`
**Payload:**
```json
{
  "currentPassword": "string",
  "newPassword": "string"
}
```
**Response:**
```json
{
  "message": "Password changed successfully"
}
```

### 4. Ki·ªÉm tra session
**API:** `GET /api/auth/check-session/`
**Payload:** Kh√¥ng c·∫ßn
**Response:**
```json
{
  "isValid": "boolean",
  "user": {
    "userId": "string",
    "username": "string",
    "userType": "student"
  }
}
```

## üè† DASHBOARD API

### 5. Dashboard Student
**API:** `GET /api/student/dashboard/`
**Payload:** Kh√¥ng c·∫ßn
**Response:**
```json
{
  "student": {
    "studentId": "string",
    "studentCode": "string",
    "fullName": "string",
    "gpa": "number",
    "totalCredits": "number",
    "enrollmentYear": "number"
  },
  "currentSemester": {
    "semesterId": "string",
    "semesterName": "string"
  },
  "registeredCourses": "number",
  "unreadNotifications": "number"
}
```

## üìä XEM ƒêI·ªÇM (view_grades permission)

### 6. Xem ƒëi·ªÉm c·ªßa t√¥i
**API:** `GET /api/student/my-grades/`
**Payload:** Kh√¥ng c·∫ßn
**Response:**
```json
{
  "grades": [
    {
      "gradeId": "string",
      "subject": {
        "subjectId": "string",
        "subjectCode": "string",
        "subjectName": "string",
        "credits": "number"
      },
      "courseClass": {
        "courseClassId": "string",
        "courseCode": "string",
        "courseName": "string"
      },
      "semester": {
        "semesterId": "string",
        "semesterName": "string"
      },
      "attendanceScore": "number",
      "assignmentScore": "number",
      "midtermScore": "number",
      "finalScore": "number",
      "totalScore": "number",
      "letterGrade": "string",
      "gradePoints": "number",
      "isPassed": "boolean"
    }
  ]
}
```



## üìù ƒêƒÇNG K√ù M√îN H·ªåC (register_course permission)

### 7. Xem m√¥n h·ªçc c√≥ th·ªÉ ƒëƒÉng k√Ω
**API:** `GET /api/services/registration/available-courses/{student_id}/`
**Payload:** Kh√¥ng c·∫ßn (student ID trong URL)
**Response:**
```json
{
  "courses": [
    {
      "courseClassId": "string",
      "courseCode": "string",
      "courseName": "string",
      "subject": {
        "subjectId": "string",
        "subjectCode": "string",
        "subjectName": "string",
        "credits": "number"
      },
      "teacher": {
        "teacherId": "string",
        "fullName": "string"
      },
      "schedule": "string",
      "room": "string",
      "availableSlots": "number",
      "maxStudents": "number"
    }
  ]
}
```

### 8. Ki·ªÉm tra m√¥n ti√™n quy·∫øt
**API:** `POST /api/services/registration/check-prerequisites/`
**Payload:**
```json
{
  "studentId": "string",
  "subjectId": "string"
}
```
**Response:**
```json
{
  "canRegister": "boolean",
  "missingPrerequisites": [
    {
      "subjectId": "string",
      "subjectCode": "string",
      "subjectName": "string"
    }
  ]
}
```

### 9. Ki·ªÉm tra xung ƒë·ªôt l·ªãch h·ªçc
**API:** `POST /api/services/registration/check-schedule-conflict/`
**Payload:**
```json
{
  "studentId": "string",
  "courseClassId": "string"
}
```
**Response:**
```json
{
  "hasConflict": "boolean",
  "conflicts": [
    {
      "courseCode": "string",
      "courseName": "string",
      "schedule": "string"
    }
  ]
}
```

### 10. ƒêƒÉng k√Ω m√¥n h·ªçc
**API:** `POST /api/crud/registrations/create/`
**Payload:**
```json
{
  "registrationId": "string",
  "studentId": "string",
  "courseClassId": "string",
  "semesterId": "string"
}
```
**Response:**
```json
{
  "message": "Course registered successfully",
  "registrationId": "string"
}
```

## üóìÔ∏è XEM L·ªäCH H·ªåC (view_schedule permission)

### 11. Xem l·ªãch h·ªçc c·ªßa t√¥i
**API:** `GET /api/student/my-schedule/`
**Payload:** Kh√¥ng c·∫ßn
**Response:**
```json
{
  "schedule": [
    {
      "courseClassId": "string",
      "courseCode": "string",
      "courseName": "string",
      "teacher": "string",
      "room": "string",
      "dayOfWeek": "string",
      "startTime": "string",
      "endTime": "string"
    }
  ]
}
```

### 12. Xem danh s√°ch ƒëƒÉng k√Ω c·ªßa t√¥i
**API:** `GET /api/student/my-registrations/`
**Payload:** Kh√¥ng c·∫ßn
**Response:**
```json
{
  "registrations": [
    {
      "registrationId": "string",
      "courseClass": {
        "courseClassId": "string",
        "courseCode": "string",
        "courseName": "string"
      },
      "semester": {
        "semesterId": "string",
        "semesterName": "string"
      },
      "registrationDate": "string",
      "status": "string"
    }
  ]
}
```

## üìÑ Y√äU C·∫¶U T√ÄI LI·ªÜU (request_document permission)

### 14. T·∫°o y√™u c·∫ßu t√†i li·ªáu
**API:** `POST /api/crud/document-requests/create/`
**Payload:**
```json
{
  "requestId": "string",
  "documentTypeId": "string",
  "semesterId": "string",
  "purpose": "string",
  "studentIds": ["string"]
}
```
**Response:**
```json
{
  "message": "Document request created",
  "requestId": "string"
}
```

### 15. Xem y√™u c·∫ßu t√†i li·ªáu c·ªßa t√¥i
**API:** `GET /api/student/my-document-requests/`
**Payload:** Kh√¥ng c·∫ßn
**Response:**
```json
{
  "documentRequests": [
    {
      "requestId": "string",
      "documentType": {
        "documentTypeId": "string",
        "name": "string",
        "processingDays": "number"
      },
      "semester": {
        "semesterId": "string",
        "semesterName": "string"
      },
      "requestDate": "string",
      "purpose": "string",
      "status": "string",
      "approvedDate": "string",
      "completedDate": "string"
    }
  ]
}
```

### 16. Xem lo·∫°i t√†i li·ªáu c√≥ th·ªÉ y√™u c·∫ßu
**API:** `GET /api/crud/document-types/`
**Payload:** Kh√¥ng c·∫ßn
**Response:**
```json
{
  "documentTypes": [
    {
      "documentTypeId": "string",
      "name": "string",
      "code": "string",
      "description": "string",
      "maxRequestsPerSemester": "number",
      "processingDays": "number"
    }
  ]
}
```

## üí∞ XEM H·ªåC PH√ç (view_tuition permission)

### 17. Xem h·ªçc ph√≠ c·ªßa t√¥i
**API:** `GET /api/student/my-tuition-fees/`
**Payload:** Kh√¥ng c·∫ßn
**Response:**
```json
{
  "tuitionFees": [
    {
      "tuitionFeeId": "string",
      "semester": {
        "semesterId": "string",
        "semesterName": "string"
      },
      "totalCredits": "number",
      "feePerCredit": "number",
      "totalAmount": "number",
      "paidAmount": "number",
      "remainingAmount": "number",
      "paymentStatus": "string",
      "dueDate": "string",
      "isOverdue": "boolean"
    }
  ]
}
```

## üîî TH√îNG B√ÅO

### 18. Xem th√¥ng b√°o ch∆∞a ƒë·ªçc
**API:** `GET /api/services/notifications/unread/`
**Payload:** Kh√¥ng c·∫ßn
**Response:**
```json
{
  "notifications": [
    {
      "notificationId": "string",
      "title": "string",
      "content": "string",
      "notificationType": "string",
      "priority": "string",
      "scheduledAt": "string",
      "deliveredAt": "string"
    }
  ]
}
```

### 19. ƒê√°nh d·∫•u th√¥ng b√°o ƒë√£ ƒë·ªçc
**API:** `POST /api/services/notifications/{notification_id}/mark-read/`
**Payload:** Kh√¥ng c·∫ßn (notification ID trong URL)
**Response:**
```json
{
  "message": "Notification marked as read"
}
```

### 20. Xem t·∫•t c·∫£ th√¥ng b√°o
**API:** `GET /api/student/my-notifications/`
**Payload:** Kh√¥ng c·∫ßn
**Response:**
```json
{
  "notifications": [
    {
      "notificationId": "string",
      "title": "string",
      "content": "string",
      "notificationType": "string",
      "priority": "string",
      "scheduledAt": "string",
      "readAt": "string",
      "isRead": "boolean"
    }
  ]
}
```

## üë§ QU·∫¢N L√ù TH√îNG TIN C√Å NH√ÇN

### 21. Xem th√¥ng tin c√° nh√¢n
**API:** `GET /api/student/profile/`
**Payload:** Kh√¥ng c·∫ßn
**Response:**
```json
{
  "student": {
    "studentId": "string",
    "studentCode": "string",
    "user": {
      "userId": "string",
      "username": "string",
      "email": "string",
      "fullName": "string",
      "phone": "string"
    },
    "studentClass": {
      "classId": "string",
      "className": "string",
      "major": {
        "majorId": "string",
        "majorName": "string",
        "department": {
          "departmentId": "string",
          "departmentName": "string"
        }
      }
    },
    "dateOfBirth": "string",
    "gender": "string",
    "enrollmentYear": "number",
    "gpa": "number",
    "totalCredits": "number"
  }
}
```

### 22. C·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n
**API:** `PUT /api/student/profile/update/`
**Payload:**
```json
{
  "fullName": "string",
  "email": "string",
  "phone": "string"
}
```
**Response:**
```json
{
  "message": "Profile updated successfully"
}
```

## üìö XEM TH√îNG TIN KHOA/NG√ÄNH/M√îN H·ªåC (Read-only)

### 23. Xem danh s√°ch khoa
**API:** `GET /api/crud/departments/`
**Payload:** Kh√¥ng c·∫ßn
**Response:**
```json
{
  "departments": [
    {
      "departmentId": "string",
      "departmentCode": "string",
      "departmentName": "string",
      "status": "string"
    }
  ]
}
```

### 24. Xem danh s√°ch ng√†nh
**API:** `GET /api/crud/majors/`
**Payload:** Kh√¥ng c·∫ßn
**Response:**
```json
{
  "majors": [
    {
      "majorId": "string",
      "majorCode": "string",
      "majorName": "string",
      "department": "string",
      "durationYears": "number",
      "totalCredits": "number"
    }
  ]
}
```

### 25. Xem danh s√°ch m√¥n h·ªçc
**API:** `GET /api/crud/subjects/`
**Payload:** Kh√¥ng c·∫ßn
**Response:**
```json
{
  "subjects": [
    {
      "subjectId": "string",
      "subjectCode": "string",
      "subjectName": "string",
      "department": "string",
      "credits": "number",
      "theoryHours": "number",
      "practiceHours": "number"
    }
  ]
}
```

### 26. Xem danh s√°ch l·ªõp h·ªçc ph·∫ßn
**API:** `GET /api/crud/course-classes/`
**Payload:** Kh√¥ng c·∫ßn
**Response:**
```json
{
  "course_classes": [
    {
      "courseClassId": "string",
      "courseCode": "string",
      "courseName": "string",
      "subject": "string",
      "teacher": "string",
      "semester": "string",
      "room": "string",
      "maxStudents": "number",
      "currentStudents": "number"
    }
  ]
}
```

### 27. Xem danh s√°ch h·ªçc k·ª≥
**API:** `GET /api/crud/semesters/`
**Payload:** Kh√¥ng c·∫ßn
**Response:**
```json
{
  "semesters": [
    {
      "semesterId": "string",
      "semesterCode": "string",
      "semesterName": "string",
      "academicYear": "string",
      "startDate": "string",
      "endDate": "string"
    }
  ]
}
```

---

## üìã T·ªîNG K·∫æT QUY·ªÄN STUDENT

### **Student Permissions t·ª´ permissions.py:**
- `view_grades` - Xem ƒëi·ªÉm
- `register_course` - ƒêƒÉng k√Ω m√¥n h·ªçc  
- `drop_course` - H·ªßy ƒëƒÉng k√Ω m√¥n h·ªçc
- `view_schedule` - Xem l·ªãch h·ªçc
- `request_document` - Y√™u c·∫ßu t√†i li·ªáu
- `view_tuition` - Xem h·ªçc ph√≠

### **T·ªïng s·ªë API cho Student: 26**
- **Authentication**: 4 APIs
- **Dashboard**: 1 API
- **Grades**: 1 API
- **Course Registration**: 4 APIs
- **Schedule**: 2 APIs
- **Document Requests**: 3 APIs
- **Tuition Fees**: 1 API
- **Notifications**: 3 APIs
- **Profile Management**: 2 APIs
- **Read-only Information**: 5 APIs

### **Base URL:**
```
http://127.0.0.1:8000/api/
```

### **Authentication Header:**
```
Authorization: Session {session_key}
X-Session-Key: {session_key}
```
